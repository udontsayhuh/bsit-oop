using System;
using System.Collections.Generic;

class Calculator
{
    protected List<double> numbers = new List<double>();
    protected List<char> operators = new List<char>();

    protected void GetInput()
    {
        while (true)
        {
            try
            {
                Console.Write("Enter a number!:");
                string input = Console.ReadLine();

                double num = Convert.ToDouble(input);
                numbers.Add(num);

                Console.Write("Enter an operator (+, -, *, /) or '=' to calculate: ");
                char op = Convert.ToChar(Console.ReadLine());
                if (op == '=')
                    break;
                operators.Add(op);
            }
            catch (FormatException)
            {
                Console.WriteLine("NYAK! Invalid input! Please enter a numerical value or '=' to calculate.");
            }
        }
    }

    protected double Calculate()
    {
        double result = numbers[0];
        int j = 1;
        for (int i = 0; i < operators.Count; i++)
        {
            switch (operators[i])
            {
                case '+':
                    result += numbers[j];
                    break;
                case '-':
                    result -= numbers[j];
                    break;
                case '*':
                    result *= numbers[j];
                    break;
                case '/':
                    if (numbers[j] == 0)
                    {
                        Console.WriteLine("Oops! Cannot divide by zero!");
                        return double.NaN; // Return NaN as result when dividing by zero
                    }
                    result /= numbers[j];
                    break;
            }
            j++;
        }
        return result;
    }
}

class BasicCalculator : Calculator
{
    public void PerformCalculation()
    {
        while (true)
        {
            GetInput();
            double result = Calculate();
            Console.WriteLine("Result: " + result);

            Console.Write("Do you want to perform another calculation? (G lang or ayaw ko po): ");
            string choice = Console.ReadLine().ToLower();

            if (choice == "ayaw ko po")
                break;

            numbers.Clear();
            operators.Clear();
        }
        Console.WriteLine("Thank you for using Calculanot 2.0! BYE :( ");
    }
}

class Program
{
    static void Main(string[] args)
    {
        Console.WriteLine("Welcome to Calculanot 2.0");

        BasicCalculator calculator = new BasicCalculator();
        calculator.PerformCalculation();
    }
}

